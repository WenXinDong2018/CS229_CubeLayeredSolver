import pickle
moves= ["%s%i" % (f, n) for f in ['U', 'D', 'L', 'R', 'B', 'F'] for n in [-1, 1]]

results = pickle.load(open("results/cube3layer2_dynamic_difficulty_25_fixed/no_fixed_layer_no_options/results.pkl", "rb"))
solved = 0
averageTime = 0
averageSolLen = 0
averageNodes = 0
for solution, time, nodes in zip(results["solutions"], results["times"], results["num_nodes_generated"]):

    if len(solution):
        solved+=1
        averageNodes+= nodes
        averageSolLen += len(solution)
        averageTime += time
print("solved", solved, "problems")
print("average time is", averageTime/solved, "s")
print("average node generated is", averageNodes/solved)
print("average solution length  is", averageSolLen/solved)


# for solution in results["solutions"]:
#     solution =[moves[i] for i in solution]
#     print(len(solution), solution)
#     for i in range(len(solution)-6):
#         key = "".join(solution[i:i+6])
#         count[key] = count.get(key, 0)+1
# for key in count:
#     if count[key]>5:
#         print( count[key], key)

# 11 ['F1', 'U-1', 'R-1', 'D1', 'R1', 'U1', 'F-1', 'D1', 'L-1', 'F1', 'L1']
# 13 ['F-1', 'L-1', 'D-1', 'L-1', 'F-1', 'L1', 'L1', 'F-1', 'L-1', 'F-1', 'D1', 'L1', 'F-1']
# 11 ['F-1', 'L-1', 'F1', 'L1', 'D1', 'L-1', 'D-1', 'F-1', 'D1', 'L1', 'F1']
# 11 ['R-1', 'U1', 'D-1', 'F-1', 'D-1', 'U1', 'L-1', 'U1', 'D-1', 'B-1', 'U1']
# 11 ['R1', 'U-1', 'D1', 'B1', 'D1', 'U-1', 'L1', 'D1', 'U-1', 'F1', 'U-1']
# 11 ['U1', 'R-1', 'D-1', 'U1', 'F-1', 'D-1', 'U1', 'L-1', 'U1', 'D-1', 'B-1']
# 11 ['F-1', 'U1', 'D-1', 'L-1', 'U1', 'D-1', 'B-1', 'D-1', 'U1', 'R-1', 'U1']
# 13 ['F-1', 'U-1', 'F1', 'D-1', 'B-1', 'D-1', 'B1', 'F-1', 'R-1', 'U1', 'R1', 'F1', 'R-1']
# 11 ['R1', 'B1', 'R-1', 'B-1', 'D-1', 'B1', 'D1', 'R1', 'D-1', 'B-1', 'R-1']
# 11 ['R1', 'U-1', 'D1', 'B1', 'U-1', 'D1', 'L1', 'D1', 'U-1', 'F1', 'U-1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 11 ['U-1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'D1', 'U-1', 'L1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1']
# 11 ['U-1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1', 'D1', 'L1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 11 ['L1', 'U1', 'B-1', 'R-1', 'B1', 'R1', 'D1', 'B1', 'U-1', 'D-1', 'L-1']
# 13 ['B1', 'L1', 'B1', 'L-1', 'D-1', 'L1', 'B1', 'D1', 'B1', 'D-1', 'L-1', 'D-1', 'B-1']
# 13 ['F-1', 'L-1', 'U-1', 'F-1', 'R-1', 'F1', 'R1', 'U1', 'F-1', 'F-1', 'L1', 'D1', 'F1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 11 ['F1', 'U-1', 'R-1', 'D1', 'R1', 'U1', 'F-1', 'D1', 'L-1', 'F1', 'L1']
# 15 ['U-1', 'F1', 'U-1', 'R1', 'D1', 'R1', 'U-1', 'B1', 'U-1', 'D1', 'L1', 'D1', 'B-1', 'L-1', 'B1']
# 11 ['R1', 'D1', 'U-1', 'B1', 'U-1', 'D1', 'L1', 'D1', 'U-1', 'F1', 'U-1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 13 ['B1', 'D1', 'L1', 'B1', 'R1', 'D1', 'B1', 'D-1', 'B-1', 'R-1', 'B1', 'L-1', 'B-1']
# 13 ['R1', 'U1', 'R-1', 'D1', 'L1', 'D1', 'R1', 'L-1', 'F1', 'U-1', 'F-1', 'R-1', 'F1']
# 11 ['U-1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'D1', 'U-1', 'L1']
# 0 []
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'U-1', 'D1', 'B1', 'U-1']
# 11 ['R-1', 'U-1', 'L-1', 'D-1', 'B1', 'D1', 'B-1', 'L1', 'U1', 'B-1', 'R1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 11 ['F-1', 'U1', 'L1', 'D-1', 'L-1', 'U-1', 'F1', 'D-1', 'R1', 'F-1', 'R-1']
# 11 ['R1', 'D-1', 'F1', 'D-1', 'D-1', 'F-1', 'D-1', 'R-1', 'B-1', 'D-1', 'B1']
# 13 ['L-1', 'F-1', 'L1', 'U-1', 'B-1', 'D-1', 'B1', 'U1', 'L-1', 'U-1', 'R-1', 'U1', 'L1']
# 13 ['F-1', 'U-1', 'F1', 'D-1', 'B-1', 'D-1', 'B1', 'F-1', 'R-1', 'U1', 'R1', 'F1', 'R-1']
# 13 ['B1', 'D1', 'L1', 'B1', 'R1', 'D1', 'B1', 'D-1', 'B-1', 'R-1', 'B1', 'L-1', 'B-1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 13 ['B-1', 'U-1', 'B1', 'D-1', 'F-1', 'D-1', 'B-1', 'F1', 'L-1', 'U1', 'L1', 'B1', 'L-1']
# 0 []
# 11 ['F-1', 'U1', 'D-1', 'L-1', 'U1', 'D-1', 'B-1', 'D-1', 'U1', 'R-1', 'U1']
# 11 ['F-1', 'L-1', 'F1', 'L1', 'D1', 'L-1', 'D-1', 'F-1', 'D1', 'L1', 'F1']
# 11 ['R-1', 'U1', 'D-1', 'F-1', 'D-1', 'U1', 'L-1', 'D-1', 'U1', 'B-1', 'U1']
# 0 []
# 12 ['F1', 'D-1', 'F1', 'L-1', 'F-1', 'L1', 'D-1', 'L1', 'D-1', 'L-1', 'D1', 'F-1']
# 11 ['F-1', 'L-1', 'F1', 'L1', 'D1', 'L-1', 'D-1', 'F-1', 'D1', 'L1', 'F1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 13 ['B1', 'D1', 'L1', 'B1', 'R1', 'D1', 'B1', 'D-1', 'B-1', 'R-1', 'B1', 'L-1', 'B-1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 11 ['F-1', 'U1', 'L1', 'D-1', 'L-1', 'U-1', 'F1', 'D-1', 'R1', 'F-1', 'R-1']
# 11 ['R1', 'B1', 'R-1', 'B-1', 'D-1', 'B1', 'D1', 'R1', 'D-1', 'B-1', 'R-1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 13 ['B1', 'D1', 'L1', 'B1', 'R1', 'D1', 'B1', 'D-1', 'B-1', 'R-1', 'B1', 'L-1', 'B-1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 14 ['L-1', 'F-1', 'D1', 'L-1', 'F1', 'L1', 'D-1', 'F1', 'U-1', 'R-1', 'D1', 'R1', 'U1', 'L1']
# 13 ['F-1', 'D-1', 'L-1', 'F-1', 'R-1', 'D-1', 'F-1', 'D1', 'F1', 'R1', 'F-1', 'L1', 'F1']
# 11 ['R-1', 'U-1', 'L-1', 'D-1', 'B1', 'D1', 'B-1', 'L1', 'U1', 'B-1', 'R1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 11 ['R-1', 'D1', 'R1', 'B1', 'R1', 'D1', 'R-1', 'R-1', 'D-1', 'R1', 'B-1']
# 13 ['R1', 'F1', 'R-1', 'U1', 'B1', 'D1', 'B-1', 'U-1', 'R1', 'U1', 'L1', 'U-1', 'R-1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 11 ['F1', 'U-1', 'R-1', 'D1', 'R1', 'U1', 'F-1', 'D1', 'L-1', 'F1', 'L1']
# 11 ['R-1', 'F-1', 'R1', 'F1', 'D1', 'F-1', 'D-1', 'R-1', 'D1', 'F1', 'R1']
# 15 ['U-1', 'F1', 'U-1', 'R1', 'D1', 'R1', 'U-1', 'B1', 'U-1', 'D1', 'L1', 'D1', 'B-1', 'L-1', 'B1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 13 ['L-1', 'F1', 'L1', 'U1', 'L-1', 'B1', 'F-1', 'D-1', 'B-1', 'D-1', 'F1', 'U-1', 'F-1']
# 11 ['R-1', 'U1', 'D-1', 'F-1', 'D-1', 'U1', 'L-1', 'U1', 'D-1', 'B-1', 'U1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 13 ['F1', 'U1', 'F-1', 'D1', 'B1', 'D1', 'F1', 'B-1', 'L1', 'U-1', 'L-1', 'F-1', 'L1']
# 0 []
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 13 ['F1', 'R1', 'D1', 'R1', 'F1', 'R-1', 'R-1', 'F1', 'R1', 'F1', 'D-1', 'R-1', 'F1']
# 11 ['R-1', 'U1', 'D-1', 'F-1', 'D-1', 'U1', 'L-1', 'U1', 'D-1', 'B-1', 'U1']
# 11 ['L1', 'U1', 'B-1', 'R-1', 'B1', 'R1', 'D1', 'B1', 'U-1', 'D-1', 'L-1']
# 11 ['B1', 'L1', 'B-1', 'L-1', 'D-1', 'L1', 'D1', 'B1', 'D-1', 'L-1', 'B-1']
# 15 ['U1', 'F1', 'R-1', 'D1', 'R1', 'U1', 'D-1', 'L1', 'U1', 'D-1', 'B1', 'U1', 'F-1', 'R1', 'F1']
# 11 ['R1', 'U-1', 'D1', 'B1', 'D1', 'U-1', 'L1', 'D1', 'U-1', 'F1', 'U-1']
# 11 ['R-1', 'U-1', 'L-1', 'D-1', 'B1', 'D1', 'B-1', 'L1', 'U1', 'B-1', 'R1']
# 11 ['L1', 'U-1', 'D1', 'F1', 'U-1', 'D1', 'R1', 'D1', 'U-1', 'B1', 'U-1']
# 13 ['B1', 'L1', 'B1', 'L-1', 'D-1', 'L1', 'B1', 'D1', 'B1', 'D-1', 'L-1', 'D-1', 'B-1']
# 13 ['R-1', 'U-1', 'R1', 'D-1', 'L-1', 'D-1', 'R-1', 'L1', 'B-1', 'U1', 'B1', 'R1', 'B-1']
# 11 ['L1', 'U1', 'B-1', 'R-1', 'B1', 'R1', 'D1', 'B1', 'U-1', 'D-1', 'L-1']
# 11 ['F-1', 'U1', 'D-1', 'L-1', 'U1', 'D-1', 'B-1', 'D-1', 'U1', 'R-1', 'U1']
# 11 ['R-1', 'U1', 'D-1', 'F-1', 'D-1', 'U1', 'L-1', 'U1', 'D-1', 'B-1', 'U1']
